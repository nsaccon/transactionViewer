(this["webpackJsonpfrontend-dev-interview-transactions"]=this["webpackJsonpfrontend-dev-interview-transactions"]||[]).push([[0],{1312:function(e,t,n){},1318:function(e,t,n){},1320:function(e,t,n){},1321:function(e,t,n){},1322:function(e,t,n){},1323:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),s=n(9),i=n.n(s),u=(n(29),n(7)),d=n.n(u),o=n(10),l=n(11),m=n(17),j=n(22),b=n(4),h=n.n(b);h.a.seed(20201242);var f=["USD","CAD"],x=function(e,t){return Array.from(Array(e)).map(t)},O=function(e){return e[h.a.random.number({min:0,max:e.length-1})]},_=x(h.a.random.number({min:5,max:13}),(function(){return{currency:O(f),name:h.a.company.companyName(),networkId:"".concat(h.a.random.number({min:1e5,max:7e5}))}})),p=x(h.a.random.number({min:10,max:18}),(function(){return{id:h.a.random.number({min:3,max:150}),firstName:h.a.name.firstName(),lastName:h.a.name.lastName(),cardId:"sk_".concat(h.a.random.number({min:1e8,max:7e8}))}})),D=x(h.a.random.number({min:100,max:180}),(function(){return{id:"".concat(h.a.random.number({min:1e5,max:7e5})),amountInUSDCents:h.a.random.number({min:100,max:1e4}),date:h.a.date.recent(10),merchantNetworkId:O(_).networkId,cardId:O(p).cardId}})),v=function(e){return new Promise((function(t){return setTimeout(t,e)}))},y=function(){var e=Object(o.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(h.a.random.number({min:1200,max:3e3}));case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){return y(_)},S=function(){return y(D)},g=function(){return y(p)},C=(n(1312),n(19)),U=n.n(C),w=(n(1318),n(14)),I=function(e){var t=e.isUSD,n=e.currencyChange;return Object(a.jsxs)("div",{className:"header",children:[Object(a.jsx)("h1",{className:"header_title","data-testid":"header_title_test",children:"User Transactions"}),Object(a.jsxs)("div",{className:"header_currency",children:[Object(a.jsx)("label",{children:Object(a.jsx)(U.a,{className:"header_currencyToggle","data-testid":"header_currencyToggle_test",defaultChecked:t,icons:{checked:Object(a.jsx)(w.b,{color:"darkred"}),unchecked:Object(a.jsx)(w.a,{color:"white"})},onChange:n})}),Object(a.jsxs)("span",{className:"header_currencyType","data-testid":"header_currencyType_test",children:["Currency: ",t?"USD":"CAD"]})]})]})},k=n(1326),A=n(1327),H=n(1328),T=(n(1319),n(1320),n(1321),function(e){var t,n=e.transactionData,r=e.merchants,c=e.isUSD,s=r.find((function(e){return e.networkId===n.merchantNetworkId}));return t=c?(n.amountInUSDCents/100).toLocaleString("en-US",{style:"currency",currency:"USD"}):(n.amountInCADCents/100).toLocaleString("en-US",{style:"currency",currency:"USD"}),Object(a.jsxs)("tr",{className:"transaction_details","data-testid":"transaction_details_test",children:[Object(a.jsx)("td",{className:"transaction_date","data-testid":"transaction_date_test",children:n.date.toLocaleString().split(",")[0]}),Object(a.jsx)("td",{className:"transaction_nameMerchant","data-testid":"transaction_nameMerchant_test",children:s.name}),Object(a.jsxs)("td",{className:"transaction_amount","data-testid":"transaction_amount_test",children:[t," ",c?"USD":"CAD"]})]},n.id)}),M=function(e){var t=e.userData,n=e.transactionData,r=e.merchantData,c=e.isUSD;n=n.filter((function(e){return e.cardId==t.cardId}));for(var s=0,i=0;i<n.length;i++)s+=c?n[i].amountInUSDCents:n[i].amountInCADCents;return s=(s/100).toLocaleString("en-US",{style:"currency",currency:"USD"}),Object(a.jsx)("div",{className:"user","data-testid":"user_test",children:t?Object(a.jsx)(k.a,{defaultActiveKey:"1",children:Object(a.jsxs)(A.a,{children:[Object(a.jsx)(A.a.Header,{children:Object(a.jsx)(k.a.Toggle,{as:H.a,variant:"text",eventKey:"0",children:Object(a.jsxs)("div",{className:"user_detail","data-testid":"user_detail_test",children:[Object(a.jsxs)("div",{className:"user_name","data-testid":"user_name_test",children:[t.firstName," ",t.lastName]}),Object(a.jsxs)("div",{className:"user_total","data-testid":"user_total_test",children:["Total: ",s," ",c?"USD":"CAD"]})]})})}),Object(a.jsx)(k.a.Collapse,{eventKey:"0",children:Object(a.jsx)(A.a.Body,{children:Object(a.jsx)("table",{className:"user_transactionTable","data-testid":"user_transactionTable_test",children:Object(a.jsxs)("tbody",{children:[Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"user_tableHeaderDate","data-testid":"user_tableHeaderDate_test",children:"Date"}),Object(a.jsx)("th",{className:"user_tableHeaderMerchant","data-testid":"user_tableHeaderMerchant_test",children:"Merchant"}),Object(a.jsx)("th",{className:"user_tableHeaderAmount","data-testid":"user_tableHeaderAmount_test",children:"Amount"})]}),n?n.map((function(e){return Object(a.jsx)(T,{isUSD:c,transactionData:e,merchants:r})})):Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{className:"user_tableHeaderDate","data-testid":"user_tableHeaderDate_test",children:"Date"}),Object(a.jsx)("td",{className:"user_tableHeaderMerchant","data-testid":"user_tableHeaderMerchant_test",children:"Merchant"}),Object(a.jsx)("td",{className:"user_tableHeaderAmount","data-testid":"user_tableHeaderAmount_test",children:"Amount"})]})]})})})})]})}):Object(a.jsx)("div",{children:"No users found"})})};n(1322);function L(){var e=Object(m.a)(["\n  box-shadow: 0px 4px 15px rgba(0, 0, 0, 0.08);\n  padding: 10px;\n"]);return L=function(){return e},e}var F=j.a.div(L());var B=function(){var e=!1,t=Object(r.useState)([]),n=Object(l.a)(t,2),c=n[0],s=n[1],i=Object(r.useState)([]),u=Object(l.a)(i,2),m=u[0],j=u[1],b=Object(r.useState)([]),h=Object(l.a)(b,2),f=h[0],x=h[1],O=Object(r.useState)(!0),_=Object(l.a)(O,2),p=_[0],D=_[1];function v(){return(v=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:return t=e.sent,s(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(){return(y=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:return t=e.sent,j(t),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return(C=Object(o.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:return U(t=(t=e.sent).sort((function(e,t){return t.date-e.date}))),x(t),e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(e){for(var t=0;t<e.length;t++)e[t].amountInCADCents=1.2*e[t].amountInUSDCents}return Object(r.useEffect)((function(){return e||(function(){v.apply(this,arguments)}(),function(){C.apply(this,arguments)}(),function(){y.apply(this,arguments)}()),function(){e=!0}})),Object(a.jsxs)(F,{children:[Object(a.jsx)(I,{isUSD:p,currencyChange:function(){D(!p)}}),Object(a.jsx)("div",{className:"app_users",children:c.length>0?c.map((function(e){return Object(a.jsx)(M,{userData:e,transactionData:f,merchantData:m,isUSD:p},e.id)})):Object(a.jsx)("div",{children:"No Users found"})})]})},K=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1329)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(B,{})}),document.getElementById("root")),K()},29:function(e,t,n){}},[[1323,1,2]]]);
//# sourceMappingURL=main.a91717af.chunk.js.map